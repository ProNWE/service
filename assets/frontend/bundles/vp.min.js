var vp=function(e){function t(o){if(n[o])return n[o].exports;var i=n[o]={i:o,l:!1,exports:{}};return e[o].call(i.exports,i,i.exports,t),i.l=!0,i.exports}var n={};return t.m=e,t.c=n,t.i=function(e){return e},t.d=function(e,n,o){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:o})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=15)}([function(e,t){e.exports=function(e){return e.settings={handler:null,server:null,success:function(){},error:function(){}},e.handle=function(e){this.settings.handler=e.handler,this.settings.server=e.server,this.settings.success=e.success,this.settings.error=e.error},e.log=function(e,t,n,o){for(n=void 0===n?"[votepad]:":"["+n+"]:",n=n.length<25?n:n.substr(0,22);n.length<24;)n+=" ";t=t||"log",o?e=n+e:(o=e||"undefined",e=n+"%o");try{"console"in window&&window.console[t]&&(o?window.console[t](e,o):window.console[t](e))}catch(e){}},e}({})},function(e,t){e.exports=function(e){return e.node=function(e,t,n){var o=document.createElement(e);o.className+=t;for(var i in n)o.setAttribute(i,n[i]);return o},e}({})},function(e,t){e.exports=function(){var e=null,t=function(e){return"function"==typeof e.append};return{send:function(n){if(n&&n.url){var o=window.XMLHttpRequest?new window.XMLHttpRequest:new window.ActiveXObject("Microsoft.XMLHTTP"),i=function(){};n.async=!0,n.type=n.type||"GET",n.data=n.data||"",n["content-type"]=n["content-type"]||"application/json; charset=utf-8",i=n.success||i,"GET"==n.type&&n.data&&(n.url=/\?/.test(n.url)?n.url+"&"+n.data:n.url+"?"+n.data),n.withCredentials&&(o.withCredentials=!0),n.beforeSend&&"function"==typeof n.beforeSend&&n.beforeSend.call(),o.open(n.type,n.url,n.async),t(n.data)||o.setRequestHeader("Content-type",n["content-type"]),o.setRequestHeader("X-Requested-With","XMLHttpRequest"),o.onreadystatechange=function(){4==o.readyState&&200==o.status&&i(o.responseText)},e=o,o.send(n.data)}},getXMLHTTPRequestProccess:function(){return e}}}()},function(e,t){e.exports=function(e){function t(){for(var t=document.querySelectorAll('[data-toggle="collapse"]'),n=0;n<t.length;n++)e.create(t[n]),"true"===t[n].dataset.opened&&e.open(t[n],document.getElementById(t[n].dataset.area))}function n(e){for(var t=0,n=0;n<e.childNodes.length;n++)e.childNodes[n].className&&(t+=e.childNodes[n].clientHeight);return t}return e.toggle=function(t){var n;n=1===t.nodeType?t:this;var o=document.getElementById(n.dataset.area);"false"===n.dataset.opened?e.open(n,o):e.close(n,o)},e.open=function(e,t){t.classList.contains("collapsing")||t.classList.contains("collapse--opened")||(e.dataset.opened="true",t.classList.add("collapsing"),t.classList.remove("collapse"),t.style.height=n(t)+"px",window.setTimeout(function(){t.classList.remove("collapsing"),t.classList.add("collapse--opened"),t.removeAttribute("style")},350))},e.close=function(e,t){t.classList.contains("collapsing")||t.classList.contains("collapse")||(e.dataset.opened="false",t.style.height=t.getBoundingClientRect().height+"px",t.classList.add("collapsing"),t.classList.remove("collapse--opened"),window.setTimeout(function(){t.style.height="0px"}),window.setTimeout(function(){t.classList.remove("collapsing"),t.classList.add("collapse")},350))},e.create=function(t){t.addEventListener("click",e.toggle)},e.destroy=function(t){t.removeEventListener("click",e.toggle)},e.init=function(){t()},e}({})},function(e,t){e.exports=function(){var e=function(e){var t=document.cookie.match(RegExp(e+"=([^;]*)"));return t?decodeURIComponent(t[1]).split("~")[1]:void 0},t=function(e){e=e||{};var t=e.expires;if("number"==typeof t&&t){var n=new Date;n.setTime(n.getTime()+1e3*t),t=e.expires=n}t&&t.toUTCString&&(e.expires=t.toUTCString());var o=encodeURIComponent(e.value),i=e.name+"="+o;for(var a in e)if("name"!=a&&"value"!=a){i+="; "+a;var s=e[a];!0!==s&&(i+="="+s)}document.cookie=i};return{get:e,set:t,remove:function(e){t({name:e,value:"",expires:-1,path:"/"})}}}()},function(e,t){e.exports=function(e){function t(){o=document.getElementsByClassName("footer"),i=document.getElementsByClassName("wrapper"),a=document.getElementsByClassName("section"),o=o.length>0?o[0]:null,i=i.length>0?i[0]:null,a=a.length>0?a[0]:null,null!==o&&null!==i&&null!==a&&(n(),window.onresize=function(){n()})}function n(){i.offsetHeight>a.offsetHeight+70+o.offsetHeight?o.classList.add("footer--fixed"):o.classList.remove("footer--fixed")}var o=null,i=null,a=null;return e.init=function(){t()},e}({})},function(e,t){e.exports=function(e){function t(){for(var e=document.getElementsByClassName("form-group__input"),t=document.getElementsByClassName("form-group__textarea"),a=0;a<e.length;a++)if(!e[a].parentNode.classList.contains("form-group--with-icon")&&e[a].parentNode.getElementsByClassName("form-group__label")[0]&&(e[a].addEventListener("blur",i),i(e[a]),e[a].hasAttribute("maxlength"))){var s=vp.draw.node("SPAN","form-group__counter");s.innerHTML="0/"+e[a].getAttribute("maxlength"),e[a].parentNode.appendChild(s),e[a].addEventListener("keyup",o),o(e[a])}for(var a=0;a<t.length;a++)if(t[a].addEventListener("blur",i),i(t[a]),t[a].addEventListener("keyup",n),n(t[a]),t[a].hasAttribute("maxlength")){var s=vp.draw.node("SPAN","form-group__counter");s.innerHTML="0/"+t[a].getAttribute("maxlength"),t[a].parentNode.appendChild(s),t[a].addEventListener("keyup",o),o(t[a])}}function n(e){1!==e.nodeType&&(e=this),window.setTimeout(function(){e.style.height="auto",e.style.height=e.scrollHeight+"px"},0)}function o(e){1!==e.nodeType&&(e=this);var t=e.parentNode.getElementsByClassName("form-group__counter")[0];e.style.paddingRight=parseInt(t.offsetWidth+5)+"px",e.style.width="calc(100% - "+parseInt(t.offsetWidth+5)+"px)",t.innerHTML=e.value.length+"/"+e.getAttribute("maxlength")}function i(e){1!==e.nodeType&&(e=this);var t=document.querySelector('[for="'+e.id+'"]');t&&""===e.placeholder&&""===e.value&&"datetime-local"!==e.type?t.classList.remove("form-group__label--active"):t.classList.add("form-group__label--active")}var a=function(e){for(var t=e.getElementsByClassName("form-group__input"),n=e.getElementsByClassName("form-group__textarea"),o=!0,i=0;i<t.length;i++)""===t[i].value?(t[i].classList.add("form-group__input--invalid"),t[i].parentNode.classList.contains("choices__inner")&&t[i].parentNode.classList.add("choices__inner--invalid"),o=!1):(t[i].classList.remove("form-group__input--invalid"),t[i].parentNode.classList.contains("choices__inner")&&t[i].parentNode.classList.remove("choices__inner--invalid"));for(var i=0;i<n.length;i++)""===n[i].value?(n[i].classList.add("form-group__textarea--invalid"),o=!1):n[i].classList.remove("form-group__textarea--invalid");return o};return e.validate=function(e){return a(e)},e.init=function(){t()},e}({})},function(e,t){e.exports=function(){var e=localStorage,t=function(t,n){e.setItem(t,JSON.stringify(n))},n=function(t){var n=e.getItem(t);try{return JSON.parse(n)}catch(e){return n}},o=function(t){var o=n(t);return e.removeItem(t),o};return{set:t,get:n,append:function(e,o){var i=n(e);switch(null==i&&(i=[]),typeof i){case"object":Array.isArray(i)&&i.push(o);break;default:i+=o.toString()}t(e,i)},remove:o}}()},function(e,t){e.exports=function(e){function t(){var t=document.querySelectorAll('[data-toggle="modal"]');if(null!==t)for(var n=0;n<t.length;n++)t[n].addEventListener("click",e.show)}return e.create=function(t){t.node=t.node||"DIV";var n=vp.draw.node(t.node,"modal",{id:t.id,tabindex:"-1"}),o=vp.draw.node("DIV","modal__content"),i=vp.draw.node("DIV","modal__wrapper"),a=vp.draw.node("DIV","modal__header"),s=vp.draw.node("H4","modal__title"),r=vp.draw.node("BUTTON","modal__title-close",{"data-close":"modal"}),l=vp.draw.node("DIV","modal__body"),c=vp.draw.node("DIV","modal__footer"),d=t.onclose||"hide";if(r.innerHTML='<i class="fa fa-close" aria-hidden="true"></i>',s.textContent=t.header,a.appendChild(r),a.appendChild(s),r.addEventListener("click",e.hide),l.innerHTML=t.body,!1!==t.header&&i.appendChild(a),i.appendChild(l),t.footer){c.innerHTML=t.footer;for(var u=c.querySelectorAll('[data-close="modal"]'),p=0;p<u.length;p++)"remove"===d?u[p].addEventListener("click",e.remove):u[p].addEventListener("click",e.hide);i.appendChild(c)}return o.appendChild(i),o.classList.add("modal__content--"+t.size),n.appendChild(o),document.body.appendChild(n),e.show(n),n},e.show=function(t){var n=null;if(1===t.nodeType)n=t;else{if(!this.dataset.area)return void vp.core.log("Can not catch `data-area`","error","VP: modal module");n=document.getElementById(this.dataset.area)}for(var o=n.querySelectorAll('[data-close="modal"]'),i=0;i<o.length;i++)o[i].addEventListener("click",e.hide);var a=vp.draw.node("DIV","modal-backdrop");n.classList.add("modal--opening","modal--opened"),document.body.classList.add("overflow--hidden"),document.body.appendChild(a),window.setTimeout(function(){n.classList.remove("modal--opening")},200)},e.hide=function(e){var t=null;if(1===e.nodeType)t=e;else{if(t=document.getElementsByClassName("modal--opened"),!t.length)return void vp.core.log("Can not catch element","error","VP: modal module");t=t[0]}"FORM"===t.tagName&&t.reset(),t.classList.add("modal--closing"),window.setTimeout(function(){t.classList.remove("modal--opened","modal--closing"),document.body.classList.remove("overflow--hidden"),document.getElementsByClassName("modal-backdrop")[0].remove()},200)},e.remove=function(e){var t=null;if(1===e.nodeType)t=e;else{if(t=document.getElementsByClassName("modal--opened"),!t.length)return void vp.core.log("Can not catch element","error","VP: modal module");t=t[0]}t.classList.add("modal--closing"),window.setTimeout(function(){t.classList.remove("modal--opened","modal--closing"),document.body.classList.remove("overflow--hidden"),document.getElementsByClassName("modal-backdrop")[0].remove(),t.remove()},200)},e.init=function(){t()},e}({})},function(e,t){e.exports=function(e){var t=[],n=null,o=function(e){t.push(e);for(var n=0;n<t.length&&t.length>5;)"confirm"!==t[n].type&&"prompt"!==t[n].type?(t[n].close(),t.splice(n,5)):n++};return e.createHolder=function(){var e=vp.draw.node("DIV","notifications-block");return n=document.body.appendChild(e),e},e.notify=function(e){function t(e){if(!e||!e.message)return void console.log("Can't create notification. Message is missed");e.type=e.type||"alert",e.time=1e3*e.time||5e3;var t=vp.draw.node("DIV","notification"),n=vp.draw.node("DIV","notification__message"),o=vp.draw.node("INPUT","notification__input"),i=vp.draw.node("SPAN","notification__confirm-btn"),m=vp.draw.node("SPAN","notification__cancel-btn"),h=vp.draw.node("DIV","notification__backdrop");n.innerHTML=e.message,e.size&&t.classList.add("notification--"+e.size),t.classList.add("notification--"+e.type),t.appendChild(n),"prompt"!==e.type&&"confirm"!==e.type||(i.textContent=e.confirmText||"ОК",m.textContent=e.cancelText||"Отмена",u=document.body.appendChild(h),u.addEventListener("click",f),"prompt"===e.type&&t.appendChild(o),t.appendChild(i),e.showCancelButton&&(t.appendChild(m),m.addEventListener("click",f)),i.addEventListener("click",p)),"prompt"!==e.type&&"confirm"!==e.type&&window.setTimeout(a,e.time),s=t,l=e.type,c=e.confirm,r=e.cancel,d=o}function i(){n.appendChild(s),d.focus(),"prompt"===l||"confirm"===l?(s.classList.add("notification--animation-in"),window.setTimeout(function(){s.classList.remove("notification--animation-in")},400)):(s.classList.add("notification--animation-in-down"),window.setTimeout(function(){s.classList.remove("notification--animation-in-down")},400)),o({type:l,close:a})}function a(){"prompt"===l||"confirm"===l?s.classList.add("notification--animation-out"):s.classList.add("notification--animation-in-up"),window.setTimeout(function(){s.remove(),u&&u.remove()},400)}var s=null,r=null,l=null,c=null,d=null,u=null,p=function(){if(a(),"function"==typeof c)return"prompt"===l?void c(d.value):void c()},f=function(){a(),"function"==typeof r&&r()};return e&&(t(e),i()),{create:t,send:i,close:a}},e.clear=function(){n=null,t=[]},e}({})},function(e,t){e.exports=function(e){var t=null;e.init=function(){if(t=document.querySelectorAll('[data-toggle="parallax"]'),t.length>0)for(var e=0;e<t.length;e++)new n(t[e])};var n=function(e){this.el=e,this.img=e.getElementsByClassName("parallax__img")[0],this.elTop=0,this.elBottom=0,this.elHeight=0,this.imgHeight=0,this.scrollDist=0,this.scrollPercent=0,this.positionY=0,this.action=this.action.bind(this),this.action=this.action.bind(this),this.initialise()};return n.prototype.winWidth=null,n.prototype.winHeight=null,n.prototype.winTop=null,n.prototype.winBottom=null,n.prototype.initialise=function(){this.img.classList.add("show"),this.updateDimensions(),this.updateBounds(),window.addEventListener("scroll",this.action),window.addEventListener("resize",this.action)},n.prototype.action=function(){this.updateDimensions(),this.updateBounds()},n.prototype.updateDimensions=function(){this.winWidth=window.innerWidth,this.winHeight=window.innerHeight,this.winTop=window.scrollY,this.winBottom=this.winTop+this.winHeight},n.prototype.updateBounds=function(){this.elHeight=this.el.clientHeight,this.imgHeight=this.img.clientHeight,this.winWidth<768?this.elHeight=this.elHeight>0?this.elHeight:this.imgHeight:this.elHeight=this.elHeight>0?this.elHeight:500,this.elTop=this.el.offsetTop,this.elBottom=this.elTop+this.elHeight,this.scrollDist=this.imgHeight-this.elHeight,this.scrollPercent=(this.winBottom-this.elTop)/(this.elHeight+this.winHeight),this.positionY=Math.round(this.scrollDist*this.scrollPercent),this.setPosition(this.positionY)},n.prototype.setPosition=function(e){this.img.style="transform: translate3d(-50%,"+e+"px ,0)"},e}({})},function(e,t){e.exports=function(e){var t=null,n=function(){if(null!==(t=document.querySelectorAll('[data-toggle="tabs"]')))for(var e=0;e<t.length;e++){var n=document.getElementById(t[e].dataset.area);n?t[e].addEventListener("click",o,!1):vp.core.log("Could not catch element by `data-area` attribute","error","VP: tabs module")}},o=function(){var e=this,t=e.closest(".ui-tabs"),n=t.getElementsByClassName("ui-tabs__tab--active")[0];n&&(n.classList.remove("ui-tabs__tab--active"),document.getElementById(n.dataset.area).classList.add("hide")),e.classList.add("ui-tabs__tab--active"),document.getElementById(e.dataset.area).classList.remove("hide")};return e.init=function(){n()},e}({})},function(e,t){e.exports=function(e){var t=null,n=function(){return new Promise(function(n,o){var i="ws"+(e.secure?"s":"")+"://",a=e.host||"localhost",s=e.path?"/"+e.path:"",r=e.port?":"+e.port:"",l=i+a+r+s;t=new WebSocket(l);var c={opened:function(){"function"==typeof e.open&&e.open(),n()},closed:function(){"function"==typeof e.close&&e.close(),o()},message:function(t){"function"==typeof e.message&&e.message(t)},error:function(t){"function"==typeof e.error&&e.error(t)}};t.onopen=c.opened,t.onmessage=c.message,t.onerror=c.error,t.onclose=c.closed})},o=function(e){t.send(JSON.stringify(e))},i=function(){t.close()},a=function(){return t.readyState},s=function(e){return null==t?Promise.reject():new Promise(function(t,o){n().then(function(){t()},function(){e>2?s(e-1).then(t,o):o()})})};return n().catch(console.log),{send:o,close:i,reconnect:s,status:a}}},function(e,t){e.exports=function(e){var t=null,n=null,o=function(){n=vp.draw.node("INPUT","",{type:"file"}),t.multiple&&(n.multiple=!0),t.accept&&(n.accept=t.accept),n.click(),n.addEventListener("change",i,!1)},i=function(){var e=n.files,o=new FormData;o.append("files",e[0],e[0].name),o.append("params",JSON.stringify(t.params)),vp.ajax.send({url:t.url,type:"POST",data:o,beforeSend:t.beforeSend,success:t.success,error:t.error})};return e.init=function(e){t=e,o()},e.getInput=function(){return n},e}({})},function(e,t){},function(e,t,n){n(14),e.exports=function(e){e.core=n(0),e.transport=n(13),e.draw=n(1),e.ajax=n(2),e.footer=n(5),e.collapse=n(3),e.cookies=n(4),e.parallax=n(10),e.tabs=n(11),e.websocket=n(12),e.storage=n(7),e.notification=n(9),e.modal=n(8),e.form=n(6);var t=function(){e.footer.init(),e.form.init(),e.collapse.init(),e.modal.init(),e.tabs.init(),e.parallax.init(),e.notification.createHolder()},o=function(){e.collapse.init(),e.notification.createHolder(),e.parallax.init(),e.modal.init()};return e.init=function(){document.addEventListener("DOMContentLoaded",t)},e.initWelcome=function(){document.addEventListener("DOMContentLoaded",o)},e}({})}]);